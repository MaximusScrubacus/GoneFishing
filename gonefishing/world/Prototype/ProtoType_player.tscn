[gd_scene load_steps=12 format=3 uid="uid://8ahf676ucjig"]

[ext_resource type="Script" uid="uid://b0pdnout4e1rr" path="res://world/Prototype/ProtoPlayer.gd" id="1_hbnwm"]
[ext_resource type="Material" uid="uid://bb43ngplsfis2" path="res://addons/flexible_toon_shader/FlexibleToonMaterial.tres" id="2_x32ct"]
[ext_resource type="Script" uid="uid://s61cr3sfdhqb" path="res://world/Main_Character/spring_arm_3d.gd" id="3_smxks"]
[ext_resource type="Texture2D" uid="uid://dhgbc48lbrb7n" path="res://image/texture_02.png" id="5_pjniq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_onrkg"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_i3pqv"]
material = ExtResource("2_x32ct")

[sub_resource type="CylinderMesh" id="CylinderMesh_hqtel"]
top_radius = 0.01
bottom_radius = 0.01
height = 1.0

[sub_resource type="SphereMesh" id="SphereMesh_hqtel"]
radius = 0.05
height = 0.1

[sub_resource type="Animation" id="Animation_2hs0m"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CharacterBody3D/RodHolder:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_sweqy"]
resource_name = "ROD_IDLE"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CharacterBody3D/RodHolder:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0.161303, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1jxqw"]
_data = {
&"RESET": SubResource("Animation_2hs0m"),
&"ROD_IDLE": SubResource("Animation_sweqy")
}

[node name="Player" type="Node3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("1_hbnwm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_onrkg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("CapsuleMesh_i3pqv")

[node name="Head" type="Node3D" parent="CharacterBody3D"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 0.589824, 0)

[node name="SpringArm" type="SpringArm3D" parent="CharacterBody3D/Head"]
spring_length = 5.0
margin = 0.5
script = ExtResource("3_smxks")
MinZoom = 1.5

[node name="ThirdPersonCamera" type="Camera3D" parent="CharacterBody3D/Head/SpringArm"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)
current = true

[node name="FishingCast" type="RayCast3D" parent="CharacterBody3D/Head"]
transform = Transform3D(1, 0, 0, 0, -0.258819, -0.965925, 0, 0.965925, -0.258819, 0, -0.402937, -0.157118)
target_position = Vector3(0, -10, 0)
collision_mask = 4
collide_with_areas = true
debug_shape_custom_color = Color(1, 1, 1, 1)

[node name="RangeIndicator" type="Sprite3D" parent="CharacterBody3D/Head/FishingCast"]
transform = Transform3D(0.0743596, 0, 0, 0, 0.0743596, 0, 0, 0, 0.0743596, 0, 0, 0)
visible = false
billboard = 1
texture = ExtResource("5_pjniq")

[node name="RodHolder" type="Node3D" parent="CharacterBody3D"]

[node name="FishingLine" type="Node3D" parent="CharacterBody3D/RodHolder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.596037, 1.31555, -0.990562)

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D/RodHolder/FishingLine"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, -0.5)
mesh = SubResource("CylinderMesh_hqtel")

[node name="RodTip" type="Node3D" parent="CharacterBody3D/RodHolder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.584366, 1.36115, -1.01036)

[node name="CSGBox3D" type="CSGBox3D" parent="CharacterBody3D/RodHolder"]
transform = Transform3D(1, 0, 0, 0, 0.940318, 0.340297, 0, -0.340297, 0.940318, 0.591498, 0.40491, -0.647407)
size = Vector3(0.1, 2, 0.1)

[node name="Bobber" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="Bobber"]
mesh = SubResource("SphereMesh_hqtel")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_1jxqw")
}
autoplay = "ROD_IDLE"
